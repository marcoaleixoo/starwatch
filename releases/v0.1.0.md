# StarWatch v0.1.0 — Sector Genesis

Data: 2025-09-22

Primeiro salto pós-v0: setores gerados proceduralmente, HUD básico, seleção de asteroides e mineração inicial com integração ao HAL — agora com visual espacial, scan real, clusters 3D e persistência.

Principais mudanças
- Remoção de “The Silent Sector” do nome e título do projeto.
- Geração de Setor (seeded):
  - Novo módulo `src/game/world.ts` com PRNG seeded e geração de asteroides em clusters e fundo.
  - Setores têm nome procedural (ex.: Elysion-347-VI), seed e limites.
  - Clusters possuem altura (Y) por tipo: ferro (faixa média), silício (camadas superiores), urânio (camadas profundas).
- Asteroides com recursos:
  - Cada asteroide possui tipo de recurso (`iron`, `silicon`, `uranium`) e quantidade (tons).
  - Cores distintas por recurso e redução visual conforme são minerados.
- Mineração básica:
  - Nova lógica no `Game` para minerar quando a nave está no raio de mineração.
  - Taxa inicial: 5 t/s, alcance ~10u. Quando esgota, o asteroide é removido.
  - Inventário do jogador: Fe/Si/U acumulando conforme mineração.
- Seleção e interação:
  - Ray picking para selecionar asteroides; realce por emissive color.
- Scan real e descoberta:
  - Ação `perform_scan` executa varredura ativa de até ~600 km em torno da nave.
  - Listagens e o painel de clusters só mostram asteroides já descobertos.
- HUD (Top Bar):
  - Nome do setor, posição e velocidade da nave, totais de Fe/Si/U.
- Painel lateral direito (flutuante):
  - Seção “Naves” com botão “Focar” (aproxima câmera).
  - Seção “Asteroid Clusters” com expansão de asteroides escaneados por cluster e botão “Ir”.
- Visual do espaço:
  - Céu com starfield procedural (estrelas azuladas/brancas) e poeira estelar sutil via partículas.
  - Sol (mega estrela) emissivo com bloom e luz pontual distante.
  - Fundo escuro e fog linear mais suave (maior alcance de visão).
 - Mapa:
  - Alternância “Sector Map / Galaxy Map” no HUD superior.
  - Galaxy Map como overlay 2D (protótipo) gerado por seed com nós, conexões e destaque do setor atual.
- Formas e cores dos asteroides:
  - Formas aleatórias por tipo (rochosos, cristalinos, alongados) com ruído determinístico por id.
  - Mapeamento de cores consistente: ferro = verde, silício = azul‑acinzentado, urânio = âmbar.
- Persistência de sessão:
  - Estado salvo em `localStorage` (`starwatch.v010.save`): seed, inventário, asteroides (quantidades), posição/destino da nave e objetos escaneados.
  - Limpe a chave do storage para reiniciar um setor novo.
- HAL-9001 expandido:
  - Novas ações: `scan_sector`, `get_resources`, `start_mining`, `stop_mining` (além de `move`, `ship_status`, `run_script`).
  - `scan_sector` lista alvos próximos por recurso; `start_mining` direciona a nave e aciona mineração ao chegar.

Como testar
1) `pnpm dev` (ou `npm run dev`) e abra no navegador.
2) Use o Com‑Link:
   - “Escaneie o setor por ferro” (scan_sector)
   - “Realize uma varredura ativa” (perform_scan)
   - “Inicie mineração de ferro” (start_mining)
   - “Pare a mineração” (stop_mining)
   - “Mova para 500, 0, 250” (move)
3) Clique na nave no painel “Naves” para focar a câmera; expanda “Asteroid Clusters” para ver descobertas por cluster. Observe o HUD acumulando Fe/Si/U.

Notas
- Este é um passo focado em mundo/recursos/UI. Próximo foco: naves secundárias, energia e geração persistente por seed via URL/Save.
